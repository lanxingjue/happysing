# 小歌星成长记 - Happy Sing!

这是一个基于 PyQt 开发的儿童歌曲学习应用，旨在通过趣味化的教学和正向反馈，帮助孩子建立唱歌的自信。

**当前版本：** Step 2 - 歌曲选择界面

**功能说明：**
*   程序启动后显示一个歌曲列表界面。
*   列表包含几首预设的歌曲名称按钮。
*   点击任意歌曲按钮，会在控制台输出选中的歌曲信息。

**当前版本：** Step 3 - 学习界面框架与界面切换

**功能说明：**
*   程序启动后显示歌曲列表界面。
*   点击歌曲列表中的任一歌曲按钮，界面会切换到学习界面。
*   学习界面显示歌曲标题占位符、歌词占位符、反馈区占位符和控制按钮（暂时不可用）。
*   学习界面包含一个“返回选择歌曲”按钮，点击后可以切换回歌曲选择界面。


**当前版本：** Step 4 - 集成音频播放

**功能说明：**
*   程序启动后从 `data/songs.json` 文件加载歌曲数据。
*   歌曲选择界面显示加载到的已解锁歌曲列表。
*   点击歌曲按钮切换到学习界面。
*   学习界面显示歌曲标题、当前乐句歌词占位符和反馈区占位符。
*   **新增:** “听一听”按钮连接到播放当前乐句对应的音频片段。
*   **注意:** 播放功能需要 `assets/audio/` 目录下存在 `songs.json` 中指定的音频文件（例如 `pawpatrol_full.wav`）。如果文件不存在，会有警告/错误提示，播放功能不可用。

**当前版本：** Step 5 - 集成音频录制 

**功能说明：**
*   引入 PyAudio 库，实现从麦克风录制音频的功能。#
* 将 LearningWidget 中的“我来唱”按钮与录音功能的开始和停止逻辑连接起来。
* 在录音过程中，更新按钮状态和界面提示。
* 录制完成后，保留录制的音频数据以供后续分析（本阶段只保留，不分析）。

**当前版本：** Step 6 - 歌词时序与高亮

**功能说明：**
*   程序启动后从 `data/songs.json` 文件加载歌曲数据。
*   歌曲选择界面显示加载到的已解锁歌曲列表。
*   点击歌曲按钮切换到学习界面。
*   学习界面显示歌曲标题和当前乐句歌词。
*   “听一听”按钮播放当前乐句音频。播放时，对应的歌词会高亮显示。播放结束后，高亮取消。
*   “我来唱”按钮连接到录音功能（已实现开始/停止，但暂无分析和反馈）。录音开始时也会取消高亮。
*   “下一句”按钮切换到下一乐句。


**当前版本：** Step 7 - 基础音频分析（声音能量）与反馈

**功能说明：**
*   程序启动后从 `data/songs.json` 文件加载歌曲数据。
*   歌曲选择界面显示加载到的已解锁歌曲列表。
*   点击歌曲按钮切换到学习界面。
*   学习界面显示歌曲标题和当前乐句歌词。
*   “听一听”按钮播放当前乐句音频。播放时，对应的歌词会高亮显示。播放结束后，高亮取消。
*   “我来唱”按钮连接到录音功能。
*   **新增:** 录音停止后，程序会分析录制音频的音量/能量，并在反馈区显示基于音量大小的积极文字反馈。
*   “下一句”按钮切换到下一乐句。

**当前版本：** Step 8 - 游戏化/反馈系统（角色图片与文字反馈结合）

**功能说明：**
*   程序启动后从 `data/songs.json` 文件加载歌曲数据。
*   歌曲选择界面显示加载到的已解锁歌曲列表。
*   点击歌曲按钮切换到学习界面。
*   学习界面顶部显示歌曲标题和累计星星数（默认为0）。
*   中间显示当前乐句歌词。
*   “听一听”按钮播放当前乐句音频。播放时，对应的歌词会高亮显示。播放结束后，高亮取消。
*   “我来唱”按钮连接到录音功能。
*   录音停止后，程序分析录制音频的音量/能量。
*   **新增:** 根据音量大小，在反馈区显示一个相关的动画片角色图片和一句积极的文字反馈。
*   “下一句”按钮切换到下一乐句。

**运行要求：**
* Python 3.11+
* PyQt6
*   PyAudio
*   **新增依赖:** `NumPy`
**运行环境：**
* uv venv --python 3.11
* .venv\Scripts\activate
**安装依赖：**
```bash
pip install -r requirements.txt